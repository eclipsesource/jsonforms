"use strict";var JSONForms;!function(a){var b=function(){function a(){}return a.canPage=function(a){return a.canPage},a.canFilter=function(a){return a.canFilter},a}();a.DataProviders=b;var c=function(){function b(a,b){var c=this;this.$q=a,this.canPage=!0,this.canFilter=!1,this._page=0,this._pageSize=2,this.setPageSize=function(a){c._pageSize=a},this.fetchPage=function(a){c._page=a;var b=c.$q.defer();return c._data instanceof Array?b.resolve(c._data.slice(c._page*c._pageSize,c._page*c._pageSize+c._pageSize)):b.resolve(c._data),b.promise},this._data=b}return b.prototype.getId=function(){return a.ServiceId.DataProvider},b.prototype.getData=function(){return this._data},b.prototype.fetchData=function(){var a=this.$q.defer();return a.resolve(this._data),a.promise},b.prototype.getTotalItems=function(){return this._data.length},b}();a.DefaultDataProvider=c;var d=function(){function b(a){this._data=a}return Object.defineProperty(b.prototype,"canPage",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"canFilter",{get:function(){return!1},enumerable:!0,configurable:!0}),b.prototype.getId=function(){return a.ServiceId.DataProvider},b.prototype.getData=function(){return this._data},b.prototype.fetchData=function(){},b.prototype.getTotalItems=function(){return this._data.length},b}();a.DefaultInternalDataProvider=d}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function b(){var b=this;this.pathMapping={},this.toInstancePath=function(b){return a.PathUtil.normalize(b)},this.resolveUi=function(a,c){var d=c+"/scope/$ref";return void 0!==b.pathMapping&&b.pathMapping.hasOwnProperty(d)&&(d=b.pathMapping[d]),b.resolveInstance(a,d)},this.resolveInstance=function(c,d){var e=a.PathUtil.toPropertyFragments(b.toInstancePath(d));return e.reduce(function(a,b){return a instanceof Array?a.map(function(a){return a[b]}):a[b]},c)},this.resolveSchema=function(b,c){try{var d=a.PathUtil.toPropertyFragments(c);return d.reduce(function(a,b){return"#"==b?a:a instanceof Array?a.map(function(a){return a[b]}):a[b]},b)}catch(e){return}}}return b}();a.PathResolver=b}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function a(){}return a.inits=function(b){var c=a.toPropertyFragments(b);return"/"+c.slice(0,c.length-1).join("/")},a.beautifiedLastFragment=function(b){return a.beautify(a.capitalizeFirstLetter(a.lastFragment(b)))},a.lastFragment=function(a){return a.substr(a.lastIndexOf("/")+1,a.length)},a.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},a.Keywords=["items","properties","#"],a.normalize=function(b){return a.filterNonKeywords(a.toPropertyFragments(b)).join("/")},a.toPropertyFragments=function(a){return a.split("/").filter(function(a){return a.length>0})},a.filterNonKeywords=function(b){return b.filter(function(b){return!(-1!==a.Keywords.indexOf(b))})},a.beautify=function(a){if(a&&a.length>0){var b=a.split(/(?=[A-Z])/).map(function(a){return a.toLowerCase()});return b[0]=b[0].charAt(0).toUpperCase()+b[0].slice(1),b.join(" ")}return a},a}();a.PathUtil=b}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function b(a){this.pathresolver=a,this.map={}}return b.prototype.getId=function(){return a.ServiceId.RuleService},b.prototype.reevaluateRules=function(a){if(a in this.map)for(var b=this.map[a],c=0;c<b.length;c++){var d=b[c],e=null;try{e=this.pathresolver.resolveInstance(d.instance,a)}catch(f){}var g=d.rule.condition.expectedValue===e,h=d.rule.effect,i=!1;i="HIDE"===h&&g||"SHOW"===h&&!g,d.hide=i}},b.prototype.addRuleTrack=function(a){if(void 0!=a.rule){var b=a.rule.condition.scope.$ref;b in this.map||(this.map[b]=[]),this.map[b].push(a),this.reevaluateRules(b)}},b}();a.RuleService=b}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function a(){this.hashes={}}return a.prototype.put=function(a,b){this.hashes[JSON.stringify(a)]=b},a.prototype.get=function(a){return this.hashes[JSON.stringify(a)]},a}(),c=function(){function a(){this.services={}}return a.prototype.add=function(a){this.services[a.getId()]=a},a.prototype.get=function(a){return this.services[a]},a}();a.Services=c;var d=function(){function a(a){this.scope=a}return a.prototype.getId=function(){return h.ScopeProvider},a.prototype.getScope=function(){return this.scope},a}();a.ScopeProvider=d;var e=function(){function a(a){this.resolver=a}return a.prototype.getId=function(){return h.PathResolver},a.prototype.getResolver=function(){return this.resolver},a}();a.PathResolverService=e;var f=function(){function a(a){this.schema=a}return a.prototype.getId=function(){return h.SchemaProvider},a.prototype.getSchema=function(){return this.schema},a}();a.SchemaProvider=f;var g=function(){function a(){this.validationResults=new b}return a.prototype.getId=function(){return h.Validation},a.prototype.getResult=function(a,b){return void 0==this.validationResults.get(a)?void 0:this.validationResults.get(a)[b]},a.prototype.convertAllDates=function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]instanceof Date?a[b]=a[b].toString():a[b]instanceof Object&&this.convertAllDates(a[b]))},a.prototype.validate=function(a,b){var c=this;if(void 0!=tv4){this.clear(a),this.convertAllDates(a);var d=tv4.validateMultiple(a,b);d.errors.forEach(function(b){if(-1!=b.schemaPath.indexOf("required")){var d=b.dataPath+"/"+b.params.key;c.validationResults.get(a)[d]="Missing property"}else c.validationResults.get(a)[b.dataPath]=b.message})}},a.prototype.clear=function(a){this.validationResults.put(a,{})},a}();a.ValidationService=g,function(a){a[a.Validation=0]="Validation",a[a.DataProvider=1]="DataProvider",a[a.SchemaProvider=2]="SchemaProvider",a[a.ScopeProvider=3]="ScopeProvider",a[a.RuleService=4]="RuleService",a[a.PathResolver=5]="PathResolver"}(a.ServiceId||(a.ServiceId={}));var h=a.ServiceId}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function a(){var a=this;this.generateDefaultSchema=function(b){return a.schemaObject(b,a.allowAdditionalProperties,a.requiredProperties)},this.generateDefaultSchemaWithOptions=function(b,c,d){return a.schemaObject(b,c,d)},this.schemaObject=function(b,c,d){var e=a.properties(b,c,d);return{type:"object",properties:e,additionalProperties:c(e),required:d(a.keys(e))}},this.properties=function(b,c,d){var e={},f=a;return a.keys(b).forEach(function(a){e[a]=f.property(b[a],c,d)}),e},this.keys=function(a){return Object.keys(a)},this.property=function(b,c,d){switch(typeof b){case"string":case"boolean":return{type:typeof b};case"number":return Number(b)%1===0?{type:"integer"}:{type:"number"};case"object":return a.schemaObjectOrNullOrArray(b,c,d);default:return{}}},this.schemaObjectOrNullOrArray=function(b,c,d){return a.isNotNull(b)?a.isArray(b)?a.schemaArray(b,c,d):a.schemaObject(b,c,d):{type:"null"}},this.schemaArray=function(b,c,d){if(b.length){var e=a,f=b.map(function(a){return e.property(a,c,d)}),g=a.distinct(f,function(a){return JSON.stringify(a)});return 1==g.length?{type:"array",items:g[0]}:{type:"array",items:{oneOf:g}}}},this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},this.isNotNull=function(a){return"undefined"!=typeof a&&null!==a},this.distinct=function(a,b){var c={};return a.filter(function(a){var d=b(a);return c.hasOwnProperty(d)?!1:c[d]=!0})},this.requiredProperties=function(a){return a},this.allowAdditionalProperties=function(a){return!0}}return a}();a.SchemaGenerator=b}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function b(){var b=this;this.generateDefaultUISchema=function(a){var c=[];return b.generateUISchema(a,c,"#",""),c[0]},this.generateUISchema=function(c,d,e,f){var g=b.deriveType(c);switch(g){case"object":var h={type:"VerticalLayout",elements:[]};if(d.push(h),f&&""!==f){var i={type:"Label",text:a.PathUtil.beautify(f)};h.elements.push(i)}if(!c.properties)return;var j=e+"/properties";for(var k in c.properties)b.isIgnoredProperty(k,c.properties[k])||b.generateUISchema(c.properties[k],h.elements,j+"/"+k,k);break;case"array":var l={type:"HorizontalLayout",elements:[]};d.push(l);var j=e+"/items";if(!c.items)return;if(c.items instanceof Array)for(var m=0;m<c.items.length;m++)b.generateUISchema(c.items[m],l.elements,j+"["+m+"]","");else b.generateUISchema(c.items,l.elements,j,"");break;case"string":case"number":case"integer":case"boolean":var n=b.getControlObject(a.PathUtil.beautify(f),e);d.push(n);break;case"null":break;default:throw new Error("Unknown type: "+JSON.stringify(c))}},this.isIgnoredProperty=function(a,b){return"id"===a&&"string"==typeof b},this.deriveType=function(a){return a.type?a.type:a.properties||a.additionalProperties?"object":"null"},this.getControlObject=function(a,b){return{type:"Control",label:a,scope:{$ref:b}}}}return b}();a.UISchemaGenerator=b}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function b(a){var b=this;this.refResolver=a,this.renderers=[],this.register=function(a){b.renderers.push(a)}}return b.prototype.render=function(b,c,d){var e,f,g,h=d.get(a.ServiceId.SchemaProvider).getSchema();c.scope&&(f=c.scope.$ref,g=this.refResolver.resolveSchema(h,f));for(var i=0;i<this.renderers.length;i++)this.renderers[i].isApplicable(c,g,f)&&(void 0==e||this.renderers[i].priority>e.priority)&&(e=this.renderers[i]);if(void 0===e)throw new Error("No applicable renderer found for element "+JSON.stringify(c));var j=e.render(c,h,f,d);return d.get(a.ServiceId.ScopeProvider).getScope().$broadcast("modelChanged"),j},b.$inject=["PathResolver"],b}();a.RenderService=b;var c=function(){function b(){}return b.createControlDescription=function(a,b,c){return new e(a,b,c)},b.renderElements=function(b,c,d){return b.map(function(b){return c.render(d.get(a.ServiceId.ScopeProvider).getScope(),b,d)})},b.createContainerDescription=function(a,b,c,e,f){return new d(a,b,c,e,f)},b}();a.RenderDescriptionFactory=c;var d=function(){function b(b,c,d,e,f){this.type="Layout",this.size=b,this.elements=c,this.template=d,this.instance=e.get(a.ServiceId.DataProvider).getData(),this.rule=f.rule,e.get(a.ServiceId.RuleService).addRuleTrack(this)}return b}();a.ContainerRenderDescription=d;var e=function(){function b(b,c,d){this.schemaPath=b,this.type="Control",this.size=99,this.alerts=[],this.instance=c.get(a.ServiceId.DataProvider).getData(),this.schema=c.get(a.ServiceId.SchemaProvider).getSchema(),this.validationService=c.get(a.ServiceId.Validation),this.pathResolver=c.get(a.ServiceId.PathResolver).getResolver(),this.ruleService=c.get(a.ServiceId.RuleService),this.scope=c.get(a.ServiceId.ScopeProvider).getScope(),this.path=a.PathUtil.normalize(b),this.label=this.createLabel(b,d.label),this.readOnly=d.readOnly,this.rule=d.rule,this.ruleService.addRuleTrack(this),this.setupModelChangedCallback()}return b.prototype.createLabel=function(b,c){var d="";return d+=c?c:a.PathUtil.beautifiedLastFragment(b),this.isRequired(b)&&(d+="*"),d},b.prototype.isRequired=function(b){var c=a.PathUtil.inits(b),d=a.PathUtil.lastFragment(c);"properties"===d&&(c=a.PathUtil.inits(c));var e=this.pathResolver.resolveSchema(this.schema,c+"/required");return void 0!==e&&-1!=e.indexOf(a.PathUtil.lastFragment(b))?!0:!1},b.prototype.setupModelChangedCallback=function(){var a=this;this.scope.$on("modelChanged",function(){a.validate(),a.ruleService.reevaluateRules(a.schemaPath)})},b.prototype.modelChanged=function(){this.scope.$broadcast("modelChanged"),this.scope.$emit("modelChanged")},b.prototype.validate=function(){this.validationService.validate(this.instance,this.schema);var a=this.validationService.getResult(this.instance,"/"+this.path);if(this.alerts=[],void 0!==a){var b={type:"danger",msg:a};this.alerts.push(b)}},b}();a.ControlRenderDescription=e}(JSONForms||(JSONForms={}));var JSONForms;!function(a){var b=function(){function b(){var b=this;this.pathMapping={},this.toInstancePath=function(b){return a.PathUtil.normalize(b)},this.resolveUi=function(a,c){var d=c+"/scope/$ref";return void 0!==b.pathMapping&&b.pathMapping.hasOwnProperty(d)&&(d=b.pathMapping[d]),b.resolveInstance(a,d)},this.resolveInstance=function(c,d){var e=a.PathUtil.toPropertyFragments(b.toInstancePath(d));return e.reduce(function(a,b){return a instanceof Array?a.map(function(a){return a[b]}):a[b]},c)},this.resolveSchema=function(b,c){try{var d=a.PathUtil.toPropertyFragments(c);return d.reduce(function(a,b){return"#"==b?a:a instanceof Array?a.map(function(a){return a[b]}):a[b]},b)}catch(e){return}}}return b}();a.PathResolver=b}(JSONForms||(JSONForms={})),angular.module("jsonforms.generators",[]),function(a){a.service("SchemaGenerator",JSONForms.SchemaGenerator)}(angular.module("jsonforms.generators.schema",["jsonforms.generators"])),function(a){a.service("UISchemaGenerator",JSONForms.UISchemaGenerator)}(angular.module("jsonforms.generators.uischema",["jsonforms.generators"])),function(a){a.service("PathResolver",JSONForms.PathResolver)}(angular.module("jsonforms.pathresolver",[])),function(a){var b=function(){function a(){this.restrict="E",this.replace=!0,this.transclude=!0,this.template='<div class="col-sm-{{element.size}} jsf-label ng-transclude"></div>'}return a}(),c=function(){function a(a,b){var c=this;this.$compile=a,this.$templateRequest=b,this.restrict="E",this.scope={element:"="},this.replace=!0,this.link=function(a,b){var d=void 0!==a.element.path?a.element.path.split("/"):[];if(a.element.templateUrl)c.$templateRequest(a.element.templateUrl).then(function(e){var f=c.replaceJSONFormsAttributeInTemplate(e,d),g=c.$compile(f)(a);b.replaceWith(g)});else{var e=c.replaceJSONFormsAttributeInTemplate(a.element.template,d),f=c.$compile(e)(a);b.replaceWith(f)}}}return a.prototype.replaceJSONFormsAttributeInTemplate=function(a,b){var c=[];for(var d in b)c.push("['"+b[d]+"']");var e='ng-model="element.instance'+c.join("")+'"';return b.length>0?a.replace("data-jsonforms-model",e).replace("data-jsonforms-validation","ng-change='element.modelChanged()'"):a},a}();a.directive("jsonformsWidget",function(){return new b}).directive("jsonformsDynamicWidget",["$compile","$templateRequest",function(a,b){return new c(a,b)}]),a.service("RenderService",JSONForms.RenderService),angular.module("jsonforms.renderers").service("RenderDescriptionFactory",JSONForms.RenderDescriptionFactory)}(angular.module("jsonforms.renderers",["jsonforms.generators","jsonforms.generators.schema","jsonforms.generators.uischema","jsonforms.pathresolver"])),function(a){var b=function(){function a(){this.restrict="E",this.replace=!0,this.transclude=!0,this.templateUrl="components/renderers/controls/control.html"}return a}();a.directive("jsonformsControl",function(){return new b})}(angular.module("jsonforms.renderers.controls",["jsonforms.renderers"])),function(a){var b=function(){function a(a){this.pathResolver=a,this.maxSize=99,this.priority=2}return a.prototype.defaultGridOptions=function(b,c,d){var e=c.get(JSONForms.ServiceId.DataProvider),f=c.get(JSONForms.ServiceId.Validation),g=c.get(JSONForms.ServiceId.ScopeProvider).getScope(),h=b.hasOwnProperty("useExternalPagination"),i=b.hasOwnProperty("useExternalFiltering"),j={};return j.enableColumnResizing=!0,j.enableHorizontalScrollbar=0,j.enableVerticalScrollbar=0,j.paginationPageSizes=[5,10,20],j.paginationPageSize=5,j.paginationCurrentPage=1,j.enablePaginationControls=!0,h&&(j.useExternalPagination=!0),JSONForms.DataProviders.canPage(e)&&(j.totalItems=e.getTotalItems()),j.onRegisterApi=function(c){JSONForms.DataProviders.canPage(e)&&h&&c.pagination.on.paginationChanged(g,function(a,c){j.paginationCurrentPage=a,j.paginationPageSize=c,e.setPageSize(c),e.fetchPage(a).then(function(a){b.data=a})}),JSONForms.DataProviders.canFilter(e)&&i&&c.core.on.filterChanged(g,function(){var d=c.grid.columns,f=d.reduce(function(b,c){var d=c.filters[0].term;return void 0!==d&&d.length>0&&(b[c.field]=a.convertColumnValue(c.colDef,d)),b},{});e.filter(f).then(function(a){b.data=a})}),c.edit.on.afterCellEdit(g,function(b,e,h,i){b[e.field]=a.convertColumnValue(e,h),f.validate(b,d.items),c.core.notifyDataChange("column"),g.$apply()})},this.mergeOptions(b,j)},a.convertColumnValue=function(a,b){if(a.type){if("number"==a.type||"integer"==a.type)return Number(b);if("boolean"==a.type)return Boolean(b)}return b},a.prototype.mergeOptions=function(a,b){return Object.keys(b).reduce(function(a,c){return a.hasOwnProperty(c)?a:(a[c]=b[c],a)},a)},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&"array"==b.type},a.prototype.render=function(a,b,c,d){var e=this.createGridOptions(a,d,b,c),f=d.get(JSONForms.ServiceId.DataProvider).getData();return Array.isArray(f)||(f=this.pathResolver.resolveInstance(f,c)),void 0!=f&&(e.data=f),{type:"Control",gridOptions:e,size:this.maxSize,template:'<jsonforms-control><div ui-grid="element[\'gridOptions\']" ui-grid-auto-resize ui-grid-pagination ui-grid-edit class="grid"></div></jsonforms-control>'}},a.prototype.generateColumnDefs=function(a,b){var c=[],d=this.pathResolver.resolveSchema(a,b);if(void 0!==d&&void 0!==d.items&&"object"==d.items.type){var e=d.items;for(var f in e.properties)if(e.properties.hasOwnProperty(f)){var g={field:f,displayName:JSONForms.PathUtil.beautify(f)};c.push(g)}}return c},a.prototype.createColumnDefs=function(a,b,c){var d=this,e=c.get(JSONForms.ServiceId.Validation);return a.map(function(a){var c=a.href;if(c){var f,g=c.scope,h=d.pathResolver.toInstancePath(a.scope.$ref);if(g){var i=d.pathResolver.toInstancePath(g.$ref);f='<div class="ui-grid-cell-contents">\n                      <a href="#'+c.url+"/{{row.entity."+i+'}}">\n                        {{row.entity.'+h+"}}\n                      </a>\n                    </div>"}else f='<div class="ui-grid-cell-contents">\n                      <a href="#'+c.url+"/{{row.entity."+h+'}}">\n                        {{row.entity.'+h+"}}\n                      </a>\n                </div>";return{cellTemplate:f,field:h,displayName:a.label,enableCellEdit:!1}}var j=d.pathResolver.resolveSchema(b,a.scope.$ref);return{field:d.pathResolver.toInstancePath(a.scope.$ref),displayName:a.label,enableCellEdit:!0,type:j.type,cellClass:function(a,b,c){var d=e.getResult(b.entity,"/"+c.colDef.field);return void 0!=d?"invalidCell":"validCell"}}})},a.prototype.createGridOptions=function(a,b,c,d){var e=this.pathResolver.resolveSchema(c,d),f=a.columns?this.createColumnDefs(a.columns,e,b):this.generateColumnDefs(e,d),g=this.defaultGridOptions(a.options||{},b,c);return g.columnDefs=f,g},a}();a.run(["RenderService","PathResolver",function(a,c){a.register(new b(c))}])}(angular.module("jsonforms.renderers.controls.array",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(){this.priority=2}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return e.template='<jsonforms-control>\n          <input type="number" step="1" id="'+c+'" class="form-control jsf-control jsf-control-integer" '+(a.readOnly?"readonly":"")+" data-jsonforms-validation data-jsonforms-model/>\n        </jsonforms-control>",e},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&"integer"==b.type},a}();a.run(["RenderService",function(a){a.register(new b)}])}(angular.module("jsonforms.renderers.controls.integer",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(){this.priority=2}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return e.template='<jsonforms-control>\n          <input type="checkbox" id="'+c+'" class="jsf-control jsf-control-boolean" '+(a.readOnly?'disabled="disabled"':"")+" data-jsonforms-validation data-jsonforms-model/>\n        </jsonforms-control>",e},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&"boolean"==b.type},a}();a.run(["RenderService",function(a){a.register(new b)}])}(angular.module("jsonforms.renderers.controls.boolean",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(){this.priority=2}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return e.template='<jsonforms-control>\n          <input type="text" id="'+c+'" class="form-control jsf-control jsf-control-string" '+(a.readOnly?"readonly":"")+" data-jsonforms-model data-jsonforms-validation/>\n        </jsonforms-control>",e},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&"string"==b.type},a.inject=["RenderDescriptionFactory"],a}();a.run(["RenderService",function(a){a.register(new b)}])}(angular.module("jsonforms.renderers.controls.string",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(){this.priority=2}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return e.template='<jsonforms-control>\n          <input type="number" step="0.01" id="'+c+'" class="form-control jsf-control jsf-control-number" '+(a.readOnly?"readonly":"")+" data-jsonforms-validation data-jsonforms-model/>\n        </jsonforms-control>",e},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&"number"==b.type},a}();a.run(["RenderService",function(a){a.register(new b)}])}(angular.module("jsonforms.renderers.controls.number",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(){this.priority=3}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return e.isOpen=!1,e.openDate=function(a){e.isOpen=!0},e.template='<jsonforms-control>\n            <div class="input-group">\n              <input type="text" '+(a.readOnly?"readonly":"")+' datepicker-popup="dd.MM.yyyy" close-text="Close" is-open="element.isOpen" id="'+c+'" class="form-control jsf-control jsf-control-datetime" data-jsonforms-model  data-jsonforms-validation/>\n                 <span class="input-group-btn">\n                   <button type="button" class="btn btn-default" ng-click="element.openDate($event)">\n                     <i class="glyphicon glyphicon-calendar"></i>\n                   </button>\n                 </span>\n            </div>\n            </jsonforms-control>',e},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&"string"==b.type&&void 0!=b.format&&"date-time"==b.format},a}();a.run(["RenderService",function(a){a.register(new b)}])}(angular.module("jsonforms.renderers.controls.datetime",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(a){this.pathResolver=a,this.priority=3}return a.prototype.render=function(a,b,c,d){var e=this.pathResolver.resolveSchema(b,c),f=e["enum"],g=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return g.template='<jsonforms-control>\n          <select  ng-options="option as option for option in element.options" id="'+c+'" class="form-control jsf-control jsf-control-enum" '+(a.readOnly?"disabled":"")+" data-jsonforms-model data-jsonforms-validation></select>\n        </jsonforms-control>",g.options=f,g},a.prototype.isApplicable=function(a,b,c){return"Control"==a.type&&void 0!==b&&b.hasOwnProperty("enum")},a}();a.run(["RenderService","PathResolver",function(a,c){a.register(new b(c))}])}(angular.module("jsonforms.renderers.controls.enum",["jsonforms.renderers.controls"])),function(a){a.directive("jsonformsLayout",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"components/renderers/layouts/layout.html"}})}(angular.module("jsonforms.renderers.layouts",["jsonforms.renderers"])),function(a){var b=function(){function a(a){this.renderService=a,this.priority=1}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.renderElements(a.elements,this.renderService,d),f='<jsonforms-layout class="jsf-vertical-layout">\n              <fieldset>\n                <jsonforms-dynamic-widget ng-repeat="child in element.elements" element="child">\n                </jsonforms-dynamic-widget>\n             </fieldset>\n            </jsonforms-layout>';return JSONForms.RenderDescriptionFactory.createContainerDescription(99,e,f,d,a)},a.prototype.isApplicable=function(a,b,c){return"VerticalLayout"==a.type},a}();a.run(["RenderService",function(a){a.register(new b(a))}])}(angular.module("jsonforms.renderers.layouts.vertical",["jsonforms.renderers.layouts"])),function(a){var b=function(){function a(a){this.renderService=a,this.priority=1}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.renderElements(a.elements,this.renderService,d),f=a.label?a.label:"",g='<jsonforms-layout class="jsf-group">\n              <fieldset>\n                <legend>'+f+'</legend>\n                <jsonforms-dynamic-widget ng-repeat="child in element.elements" element="child">\n                </jsonforms-dynamic-widget>\n               </fieldset>\n             </jsonforms-layout>';return JSONForms.RenderDescriptionFactory.createContainerDescription(99,e,g,d,a)},a.prototype.isApplicable=function(a,b,c){return"Group"==a.type},a}();a.run(["RenderService",function(a){a.register(new b(a))}])}(angular.module("jsonforms.renderers.layouts.group",["jsonforms.renderers.layouts"])),function(a){var b=function(){function a(a){this.renderService=a,this.priority=1}return a.prototype.render=function(a,b,c,d){for(var e=99,f=JSONForms.RenderDescriptionFactory.renderElements(a.elements,this.renderService,d),g=f.length,h=Math.floor(e/g),i=0;i<f.length;i++)f[i].size=h;var j='<jsonforms-layout><fieldset>\n                   <div class="row">\n                     <jsonforms-dynamic-widget ng-repeat="child in element.elements" element="child"></jsonforms-dynamic-widget>\n                   </div>\n                 </fieldset></jsonforms-layout>';return JSONForms.RenderDescriptionFactory.createContainerDescription(e,f,j,d,a)},a.prototype.isApplicable=function(a,b,c){return"HorizontalLayout"==a.type},a}();a.run(["RenderService",function(a){a.register(new b(a))}])}(angular.module("jsonforms.renderers.layouts.horizontal",["jsonforms.renderers.layouts"])),angular.module("jsonforms.renderers.layouts.categories",["jsonforms.renderers.layouts"]),function(a){var b=function(){function a(a){this.renderService=a,this.priority=1}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.renderElements(a.elements,this.renderService,d),f='<jsonforms-layout>\n            <tabset>\n                <jsonforms-dynamic-widget ng-repeat="child in element.elements" element="child"></jsonforms-dynamic-widget>\n            </tabset>\n        </jsonforms-layout>';return JSONForms.RenderDescriptionFactory.createContainerDescription(99,e,f,d,a)},a.prototype.isApplicable=function(a,b,c){return"Categorization"==a.type},a}();a.run(["RenderService",function(a){a.register(new b(a))}])}(angular.module("jsonforms.renderers.layouts.categories.categorization",["jsonforms.renderers.layouts.categories"])),function(a){var b=function(){function a(a){this.renderService=a,this.priority=1}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.renderElements(a.elements,this.renderService,d),f=a.label,g='<tab heading="'+f+'">\n            <jsonforms-layout>\n                <fieldset>\n                    <jsonforms-dynamic-widget ng-repeat="child in element.elements" element="child"></jsonforms-dynamic-widget>\n                </fieldset>\n            </jsonforms-layout>\n        </tab>';return JSONForms.RenderDescriptionFactory.createContainerDescription(99,e,g,d,a)},a.prototype.isApplicable=function(a,b,c){return"Category"==a.type},a}();a.run(["RenderService",function(a){a.register(new b(a))}])}(angular.module("jsonforms.renderers.layouts.categories.category",["jsonforms.renderers.layouts.categories"])),function(a){var b=function(){function a(){this.priority=1}return a.prototype.render=function(a,b,c,d){var e=a.text,f=99;return{type:"Widget",size:f,template:' <jsonforms-widget><div class="jsf-label">'+e+"</div></jsonforms-widget>"}},a.prototype.isApplicable=function(a){return"Label"==a.type},a}();a.run(["RenderService",function(a){a.register(new b)}])}(angular.module("jsonforms.renderers.extras.label",["jsonforms.renderers"])),function(a){var b=JSONForms.PathResolver,c=function(){function a(a,b,c,d,e,f){this.RenderService=a,this.PathResolver=b,this.UISchemaGenerator=c,this.SchemaGenerator=d,this.$q=e,this.scope=f,this.isInitialized=!1}return a.prototype.init=function(){var c=this;if(this.isInitialized){var d=angular.element(this.element.find("form")).children();d.remove()}this.isInitialized=!0;var e=this.$q.defer(),f=this.$q.defer();this.$q.all([this.fetchSchema().promise,this.fetchUiSchema().promise]).then(function(a){var b=a[0],d=a[1],g=c.$q.defer();c.$q.when(g.promise).then(function(a){JsonRefs.resolveRefs(b,{},function(b,c){e.resolve(c),f.resolve(a)})}),void 0===d||null===d||""===d?JsonRefs.resolveRefs(b,{},function(a,b){var d=c.UISchemaGenerator.generateDefaultUISchema(b);g.resolve(d)}):g.resolve(d)}),this.$q.all([e.promise,f.promise,this.fetchData()]).then(function(d){var e=d[0],f=d[1],g=d[2],h=new JSONForms.Services;h.add(new JSONForms.PathResolverService(new b)),h.add(new JSONForms.ScopeProvider(c.scope)),h.add(new JSONForms.SchemaProvider(e)),h.add(new JSONForms.ValidationService),h.add(new JSONForms.RuleService(c.PathResolver));var i;i=a.isDataProvider(c.scope.data)?c.scope.data:new JSONForms.DefaultDataProvider(c.$q,g),h.add(i),c.elements=[c.RenderService.render(c.scope,f,h)]})},a.prototype.fetchSchema=function(){if("object"==typeof this.scope.schema){var a=this.$q.defer();return a.resolve(this.scope.schema),a}if(void 0!==this.scope.schema)return this.scope.schema();var a=this.$q.defer();return a.resolve(this.SchemaGenerator.generateDefaultSchema(this.scope.data)),a},a.prototype.fetchUiSchema=function(){if(a.isUiSchemaProvider(this.scope.uiSchema))return this.scope.uiSchema.getUiSchema();if("object"==typeof this.scope.uiSchema){var b=this.$q.defer();return b.resolve(this.scope.uiSchema),b}var c=this.$q.defer();return c.resolve(void 0),c},a.prototype.fetchData=function(){if(a.isDataProvider(this.scope.data))return this.scope.data.fetchData();if("object"==typeof this.scope.data){var b=this.$q.defer();return b.resolve(this.scope.data),b.promise}throw new Error("Either the 'data' or the 'async-data-provider' attribute must be specified.")},a.isDataProvider=function(a){return void 0!==a&&a.hasOwnProperty("fetchData")},a.isUiSchemaProvider=function(a){return void 0!==a&&a.hasOwnProperty("fetchUiSchema")},a.$inject=["RenderService","PathResolver","UISchemaGenerator","SchemaGenerator","$q","$scope"],a}(),d=function(){function a(){this.restrict="E",this.replace=!0,this.templateUrl="components/form/form.html",this.controller=c,this.controllerAs="vm",this.scope={schema:"=",uiSchema:"=",data:"="},this.link=function(a,b,c,d){d.element=b,a.$watchGroup(["data","uiSchema"],function(a){angular.isDefined(a)&&d.init()})}}return a}();a.directive("jsonforms",function(){return new d})}(angular.module("jsonforms.form",["jsonforms.generators","jsonforms.generators.schema","jsonforms.generators.uischema","jsonforms.pathresolver","jsonforms.renderers","jsonforms.renderers.controls","jsonforms.renderers.controls.array","jsonforms.renderers.controls.integer","jsonforms.renderers.controls.boolean","jsonforms.renderers.controls.string","jsonforms.renderers.controls.number","jsonforms.renderers.controls.datetime","jsonforms.renderers.controls.enum","jsonforms.renderers.layouts","jsonforms.renderers.layouts.vertical","jsonforms.renderers.layouts.group","jsonforms.renderers.layouts.horizontal","jsonforms.renderers.layouts.categories","jsonforms.renderers.layouts.categories.categorization","jsonforms.renderers.layouts.categories.category","jsonforms.renderers.extras.label"])),function(a){var b=function(){function a(a){this.pathResolver=a,this.priority=2}return a.prototype.render=function(a,b,c,d){var e=new JSONForms.ControlRenderDescription(c,d,a),f=this.pathResolver.toInstancePath(c),g=a.label?a.label:"Go to ",h=a.href.label?a.href.label:e.label,i=d.get(JSONForms.ServiceId.DataProvider).getData();
return e.template="<div>"+g+' <a href="#'+a.href.url+"/"+i[f]+'">'+h+"</a></div>",e},a.prototype.isApplicable=function(a,b,c){return"ReferenceControl"==a.type},a}();a.run(["RenderService","PathResolver",function(a,c){a.register(new b(c))}])}(angular.module("jsonforms.renderers.controls.reference",["jsonforms.renderers.controls"])),function(a){var b=function(){function a(){this.restrict="E",this.replace=!0,this.scope={collection:"=",element:"="},this.template='\n        <div>\n            <accordion close-others="false">\n                <accordion-group is-open="status_attribute.open" ng-repeat="(key, value) in element.filter(collection)">\n                    <accordion-heading>\n                        {{key}} <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': status_attribute.open, \'glyphicon-chevron-right\': !status_attribute.open}"></i>\n                    </accordion-heading>\n                    <accordion close-others="false">\n                        <accordion-group is-open="status_object.open" ng-repeat="child in element.instance[key]">\n                            <accordion-heading>\n                                <span ng-click="element.selectedChild=child;element.selectedSchema=value.items;">{{child.name}}<!-- label provider needed --></span><i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': status_object.open, \'glyphicon-chevron-right\': !status_object.open}"></i>\n                            </accordion-heading>\n                            <jsonforms-masterdetail-member element="element" member="value.items"></jsonforms-masterdetail-member>\n                        </accordion-group>\n                    </accordion>\n                </accordion-group>\n            </accordion>\n        </div>\n        '}return a}(),c=function(){function a(a){var b=this;this.$compile=a,this.restrict="E",this.replace=!0,this.scope={member:"=",element:"="},this.link=function(a,c){b.$compile('<jsonforms-masterdetail-collection collection="member.properties" element="element"></jsonforms-masterdetail-collection>')(a,function(a){c.replaceWith(a)})}}return a}();a.directive("jsonformsMasterdetailCollection",function(){return new b}).directive("jsonformsMasterdetailMember",function(a){return new c(a)});var d=function(){function a(){this.priority=1}return a.prototype.render=function(a,b,c,d){var e=JSONForms.RenderDescriptionFactory.createControlDescription(c,d,a);return e.template='\n        <div class="row">\n            <!-- Master -->\n            <div class="col-sm-30">\n                <jsonforms-masterdetail-collection element="element" collection="element.schema.properties"></jsonforms-masterdetail-collection>\n            </div>\n            <!-- Detail -->\n            <div class="col-sm-70">\n                <jsonforms schema="element.selectedSchema" data="element.selectedChild" ng-if="element.selectedChild"></jsonforms>\n            </div>\n        </div>\n        ',e.schema=b,e.filter=function(a){var b={};return angular.forEach(a,function(a,c){"array"==a.type&&"object"==a.items.type&&(b[c]=a)}),b},e},a.prototype.isApplicable=function(a,b,c){return"MasterDetailLayout"==a.type&&void 0!==b&&"object"==b.type},a}();a.run(["RenderService",function(a){a.register(new d)}])}(angular.module("jsonforms.renderers.layouts.masterdetail",["jsonforms.renderers.layouts"])),angular.module("jsonforms",["ui.bootstrap","ui.validate","ui.grid","ui.grid.autoResize","ui.grid.edit","ui.grid.pagination","jsonforms.form","jsonforms.generators","jsonforms.generators.schema","jsonforms.generators.uischema","jsonforms.pathresolver","jsonforms.renderers","jsonforms.renderers.controls","jsonforms.renderers.controls.array","jsonforms.renderers.controls.integer","jsonforms.renderers.controls.boolean","jsonforms.renderers.controls.reference","jsonforms.renderers.controls.string","jsonforms.renderers.controls.number","jsonforms.renderers.controls.datetime","jsonforms.renderers.controls.enum","jsonforms.renderers.layouts","jsonforms.renderers.layouts.vertical","jsonforms.renderers.layouts.horizontal","jsonforms.renderers.layouts.categories","jsonforms.renderers.layouts.categories.categorization","jsonforms.renderers.layouts.categories.category","jsonforms.renderers.extras.label","jsonforms.renderers.layouts.masterdetail"]),angular.module("jsonforms").run(["$templateCache",function(a){a.put("components/form/form.html",'<div><form role="form" class="jsf-form rounded"><jsonforms-dynamic-widget ng-repeat="child in vm.elements" element="child"></jsonforms-dynamic-widget></form></div>'),a.put("components/renderers/controls/control.html",'<div class="col-sm-{{element.size}} form-group top-buffer" ng-hide="element.hide"><div class="row"><label ng-if="element.label" for="element.id">{{element.label}}</label></div><div class="row" style="padding-right: 1em" ng-transclude></div><div class="row" style="padding-right: 1em"><alert ng-repeat="alert in element.alerts" type="{{alert.type}}" class="top-buffer-s jsf-alert">{{alert.msg}}</alert></div></div>'),a.put("components/renderers/layouts/layout.html",'<div class="col-sm-{{element.size}}" ng-hide="element.hide" ng-transclude></div>')}]);
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../lib/native-shim.js"></script>
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../node_modules/web-component-tester/browser.js"></script>
    <script src="../dist/jsonforms.js"></script>
    <script src="../node_modules/drag-mock/dist/drag-mock.min.js"></script>
    <script src="./tree-renderer.js"></script>
</head>
<body>
<div id='fixture'></div>
<script>
    suite('tree renderer drag and drop', function() {
        let div;
        // reset DOM between test cases
        setup(function() {
          div = document.getElementById('fixture');
          for (var i = 0; i < div.children.length; i++) {
            div.children[i].remove();
          }
        });

        // NOTE: in case the tests fail, first consider increasing the DELAY value in ./tree-renderer.js
        test('inside one list', function(done) {
          sameListDnd(div, done);
        });
        test('between two compatible lists', function(done) {
          twoCompatibleListsDnd(div, done);
        });
        test('between two incompatible lists', function(done) {
          twoIncompatibleListsDnd(div, done);
        });
        test('back and forth between to compatible lists', function(done) {
          backAndForthDnd(div, done);
        });
        test('drag draggable list item outside json forms', function(done) {
          dragOutsideJsonForms(div, done);
        });
        test('drag in compatible empty list', function(done) {
          intoCompatibleEmptyList(div, done);
        });
    });
</script>
</body>
</html>
